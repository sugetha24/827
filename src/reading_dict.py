'''
Created on Oct 2, 2012

@author: sugethk
'''
import numbers
import itertools
#import reductions
#a=[]
a = [['3', '2', '3', '54', '1'], ['2', '55', '56', '2'], ['3', '4', '10', '19', '3'], ['2', '4', '19', '3'], ['3', '57', '5', '54', '4'], ['1', '6', '5'], ['3', '6', '7', '58', '6'], ['2', '7', '58', '6'], ['1', '8', '7'], ['3', '8', '59', '56', '8'], ['5', '8', '59', '56', '60', '61', '8'], ['6', '8', '59', '56', '62', '61', '63', '8'], ['8', '8', '59', '56', '62', '61', '64', '61', '65', '8'], ['2', '9', '56', '8'], ['4', '9', '56', '60', '61', '8'], ['5', '9', '56', '62', '61', '63', '8'], ['7', '9', '56', '62', '61', '64', '61', '65', '8'], ['1', '66', '9'], ['1', '67', '9'], ['1', '11', '10'], ['2', '11', '12', '11'], ['1', '12', '11'], ['4', '13', '4', '21', '54', '12'], ['3', '13', '21', '54', '12'], ['2', '14', '15', '13'], ['2', '14', '16', '13'], ['2', '68', '56', '14'], ['2', '69', '70', '15'], ['2', '17', '70', '16'], ['5', '17', '59', '18', '9', '56', '17'], ['8', '17', '59', '18', '9', '56', '62', '61', '63', '17'], ['10', '17', '59', '18', '9', '56', '62', '61', '64', '61', '65', '17'], ['4', '69', '18', '9', '56', '17'], ['7', '69', '18', '9', '56', '62', '61', '63', '17'], ['9', '69', '18', '9', '56', '62', '61', '64', '61', '65', '17'], ['1', '71', '18'], ['1', '72', '18'], ['3', '20', '21', '54', '19'], ['1', '73', '20'], ['1', '22', '21'], ['2', '22', '23', '22'], ['1', '23', '22'], ['2', '37', '58', '23'], ['2', '34', '58', '23'], ['2', '39', '58', '23'], ['2', '24', '58', '23'], ['2', '27', '58', '23'], ['2', '30', '58', '23'], ['1', '25', '24'], ['3', '25', '59', '56', '25'], ['6', '25', '59', '56', '74', '48', '75', '25'], ['8', '25', '59', '56', '74', '48', '76', '48', '75', '25'], ['3', '26', '59', '56', '25'], ['6', '26', '59', '56', '74', '48', '75', '25'], ['8', '26', '59', '56', '74', '48', '76', '48', '75', '25'], ['2', '77', '78', '26'], ['1', '28', '27'], ['1', '29', '27'], ['3', '28', '59', '56', '28'], ['3', '28', '59', '53', '28'], ['6', '28', '59', '56', '74', '48', '75', '28'], ['8', '28', '59', '56', '74', '48', '76', '48', '75', '28'], ['3', '29', '59', '56', '28'], ['3', '29', '59', '53', '28'], ['6', '29', '59', '56', '74', '48', '75', '28'], ['8', '29', '59', '56', '74', '48', '76', '48', '75', '28'], ['2', '79', '78', '29'], ['2', '31', '15', '30'], ['2', '31', '32', '30'], ['2', '80', '56', '31'], ['2', '33', '70', '32'], ['4', '33', '59', '18', '56', '33'], ['3', '33', '59', '53', '33'], ['7', '33', '59', '18', '56', '74', '48', '75', '33'], ['9', '33', '59', '18', '56', '74', '48', '76', '48', '75', '33'], ['3', '69', '18', '56', '33'], ['2', '69', '53', '33'], ['6', '69', '18', '56', '74', '48', '75', '33'], ['8', '69', '18', '56', '74', '48', '76', '48', '75', '33'], ['3', '36', '21', '54', '34'], ['3', '35', '21', '54', '34'], ['3', '36', '21', '81', '35'], ['5', '82', '83', '42', '84', '85', '36'], ['5', '38', '21', '86', '48', '54', '37'], ['1', '87', '38'], ['1', '40', '39'], ['1', '41', '40'], ['3', '56', '88', '48', '41'], ['6', '56', '74', '48', '75', '88', '48', '41'], ['8', '56', '74', '48', '76', '48', '75', '88', '48', '41'], ['1', '43', '42'], ['3', '43', '89', '44', '43'], ['1', '44', '43'], ['1', '45', '44'], ['3', '45', '90', '46', '45'], ['1', '46', '45'], ['2', '91', '47', '46'], ['1', '47', '46'], ['3', '48', '92', '48', '47'], ['3', '48', '93', '48', '47'], ['3', '48', '94', '48', '47'], ['3', '48', '95', '48', '47'], ['3', '48', '96', '48', '47'], ['3', '48', '97', '48', '47'], ['1', '48', '47'], ['1', '49', '48'], ['3', '49', '98', '50', '49'], ['3', '49', '99', '50', '49'], ['2', '99', '50', '49'], ['1', '50', '49'], ['1', '51', '50'], ['3', '51', '100', '52', '51'], ['3', '51', '101', '52', '51'], ['1', '52', '51'], ['3', '83', '42', '84', '52'], ['1', '53', '52'], ['1', '56', '52'], ['4', '56', '74', '48', '75', '52'], ['6', '56', '74', '48', '76', '48', '75', '52'], ['1', '61', '53'], ['1', '102', '53']]

def read(prodnum,num):
    keys=[]
    for k in range(len(a)):
        #print(k)
        if a[k][-1]==str(prodnum):
            #print('found')
            for l,r in itertools.zip_longest(range(len(a[k])-1),range(len(num))):
                if a[k][l]==num[r]:
                    print(a[k][l])
                #print(a[k][l])
                #print('pos is',l)
                """for key,val in numbers.numbers.items():
                    if val==int(a[k][l]):
                        #print('the reduction number is', k+1)
                        keys.append(key)"""
    """#print('keys list is',keys)
    keys.pop(0)
    print(keys[-1]+'---->',end='')
    keys.pop(-1)
    for i in keys:
        print(' ',end='')
        print(i,end='')
    print()
    for all in keys:
        keys.pop()"""
num=['3','4','10','19']
read(3,num)